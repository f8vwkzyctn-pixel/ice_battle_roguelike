<!DOCTYPE html>
<html lang="ru" class="platform-optimized">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>üêã –ë–∏—Ç–≤–∞ –∑–∞ –õ—å–¥–∏–Ω—É - Ultimate Edition</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f2027">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
    <link rel="preload" href="styles/main.css" as="style">
    <link rel="preload" href="src/core/GameEngine.js" as="script">
    <link rel="preload" href="assets/sprites/characters/player.png" as="image">
    
    <!-- –ò–∫–æ–Ω–∫–∏ -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16x16.png">
    <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/ui.css">
    
    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö —Å—Ç–∏–ª–µ–π -->
    <script>
        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–∏–ª–µ–π
        (function() {
            const platform = (() => {
                const ua = navigator.userAgent;
                if (/Mobile|Android|iPhone|iPad|iPod/i.test(ua)) return 'mobile';
                if (/Xbox|PlayStation|Nintendo/i.test(ua)) return 'console';
                return 'desktop';
            })();
            
            document.documentElement.className += ' ' + platform;
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö —Å—Ç–∏–ª–µ–π
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'styles/' + platform + '.css';
            document.head.appendChild(link);
            
            // –î–ª—è –∫–æ–Ω—Å–æ–ª–µ–π –¥–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
            if (platform === 'console') {
                const consoleStyle = document.createElement('link');
                consoleStyle.rel = 'stylesheet';
                consoleStyle.href = 'styles/console.css';
                document.head.appendChild(consoleStyle);
            }
        })();
    </script>
    
    <!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è SEO –∏ —Å–æ—Ü—Å–µ—Ç–µ–π -->
    <meta name="description" content="–ë–∏—Ç–≤–∞ –∑–∞ –õ—å–¥–∏–Ω—É - –ø–∏–∫—Å–µ–ª—å–Ω—ã–π —Ä–æ–≥–∞–ª–∏–∫ —Å –¥–∏–Ω–∞–º–∏—á–Ω—ã–º–∏ –±–æ—è–º–∏ –ø—Ä–æ—Ç–∏–≤ —Ç—é–ª–µ–Ω–µ–π, –∫–æ—Ç–æ–≤ –∏ –∞–≤—Ç–æ–±—É—Å–æ–≤. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –ü–ö, –∫–æ–Ω—Å–æ–ª–µ–π –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö.">
    <meta name="keywords" content="–∏–≥—Ä–∞, —Ä–æ–≥–∞–ª–∏–∫, —Ç—é–ª–µ–Ω—å, –ø–æ–Ω—Å—É–∫—ç, –ø–∏–∫—Å–µ–ª—å-–∞—Ä—Ç, HTML5 –∏–≥—Ä–∞">
    <meta name="author" content="–î–∏–ø—Å–∏–∫ –ö–æ–º–∞–Ω–¥–∞">
    
    <!-- Open Graph -->
    <meta property="og:title" content="–ë–∏—Ç–≤–∞ –∑–∞ –õ—å–¥–∏–Ω—É - Ultimate Edition">
    <meta property="og:description" content="–°—Ä–∞–∑–∏—Ç–µ—Å—å —Å –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–º –ü–æ–Ω—Å—É–∫—ç –≤ —ç–ø–∏—á–Ω–æ–º –ø–∏–∫—Å–µ–ª—å–Ω–æ–º –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–∏!">
    <meta property="og:image" content="assets/og-image.jpg">
    <meta property="og:url" content="https://sealbattle.github.io">
    <meta property="og:type" content="game">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="–ë–∏—Ç–≤–∞ –∑–∞ –õ—å–¥–∏–Ω—É">
    <meta name="twitter:description" content="–ü–∏–∫—Å–µ–ª—å–Ω—ã–π —Ä–æ–≥–∞–ª–∏–∫ —Å –±–æ—è–º–∏ –ø—Ä–æ—Ç–∏–≤ —Ç—é–ª–µ–Ω–µ–π">
    
    <!-- –î–ª—è –∫–æ–Ω—Å–æ–ª–µ–π -->
    <meta name="tv-capable" content="true">
    <meta name="x5-fullscreen" content="true">
    <meta name="full-screen" content="yes">
    <meta name="msapplication-tap-highlight" content="no">
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-animation">
                <div class="ice-cube"></div>
                <div class="seal-loader"></div>
            </div>
            <div class="loading-text">
                <h2>–ë–ò–¢–í–ê –ó–ê –õ–¨–î–ò–ù–£</h2>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ª–µ–¥—è–Ω–æ–≥–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è...</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="load-progress"></div>
                </div>
                <div class="platform-indicator" id="platform-indicator">
                    –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ...
                </div>
            </div>
        </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div id="game-container" class="game-container" style="display: none;">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="game-header">
            <div class="header-left">
                <h1 class="game-title">
                    <span class="pixel-text">üêã</span>
                    <span class="title-text">–ë–ò–¢–í–ê –ó–ê –õ–¨–î–ò–ù–£</span>
                    <span class="pixel-text">üéÆ</span>
                </h1>
                <div class="subtitle">ULTIMATE EDITION</div>
            </div>
            
            <div class="header-right">
                <div class="platform-badge" id="platform-badge"></div>
                <div class="fps-counter" id="fps-counter">120 FPS</div>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é -->
        <main class="main-content">
            <div class="menu-grid">
                <!-- –ö–Ω–æ–ø–∫–∞ –∏–≥—Ä—ã -->
                <button class="menu-card primary-card" id="play-button" data-action="play">
                    <div class="card-icon">üöÄ</div>
                    <div class="card-content">
                        <h3>–ù–û–í–ê–Ø –ò–ì–†–ê</h3>
                        <p>–ù–∞—á–∞—Ç—å –ª–µ–¥—è–Ω–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</p>
                    </div>
                    <div class="card-hotkey">ENTER</div>
                </button>

                <!-- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å -->
                <button class="menu-card" id="continue-button" data-action="continue">
                    <div class="card-icon">üéØ</div>
                    <div class="card-content">
                        <h3>–ü–†–û–î–û–õ–ñ–ò–¢–¨</h3>
                        <p>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</p>
                    </div>
                    <div class="card-hotkey">C</div>
                </button>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <button class="menu-card" id="settings-button" data-action="settings">
                    <div class="card-icon">‚öôÔ∏è</div>
                    <div class="card-content">
                        <h3>–ù–ê–°–¢–†–û–ô–ö–ò</h3>
                        <p>–ì—Ä–∞—Ñ–∏–∫–∞, –∑–≤—É–∫, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</p>
                    </div>
                    <div class="card-hotkey">S</div>
                </button>

                <!-- –°–µ–∫—Ä–µ—Ç—ã -->
                <button class="menu-card" id="secrets-button" data-action="secrets">
                    <div class="card-icon">üîÆ</div>
                    <div class="card-content">
                        <h3>–°–ï–ö–†–ï–¢–´</h3>
                        <p>Easter eggs –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</p>
                    </div>
                    <div class="card-hotkey">H</div>
                </button>

                <!-- –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä -->
                <button class="menu-card" id="multiplayer-button" data-action="multiplayer">
                    <div class="card-icon">üë•</div>
                    <div class="card-content">
                        <h3>–ú–£–õ–¨–¢–ò–ü–õ–ï–ï–†</h3>
                        <p>–ò–≥—Ä–∞ —Å –¥—Ä—É–∑—å—è–º–∏</p>
                    </div>
                    <div class="card-hotkey">M</div>
                </button>

                <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
                <button class="menu-card" id="help-button" data-action="help">
                    <div class="card-icon">üìñ</div>
                    <div class="card-content">
                        <h3>–ò–ù–°–¢–†–£–ö–¶–ò–Ø</h3>
                        <p>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å –∏ —Å–æ–≤–µ—Ç—ã</p>
                    </div>
                    <div class="card-hotkey">F1</div>
                </button>
            </div>

            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="quick-actions">
                <button class="quick-btn" data-action="cheat" title="–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥">
                    <span>‚ö°</span>
                </button>
                <button class="quick-btn" data-action="fullscreen" title="–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω">
                    <span>‚õ∂</span>
                </button>
                <button class="quick-btn" data-action="sound" title="–ó–≤—É–∫">
                    <span>üîä</span>
                </button>
                <button class="quick-btn" data-action="vibration" title="–í–∏–±—Ä–∞—Ü–∏—è">
                    <span>üì≥</span>
                </button>
            </div>

            <!-- –ù–æ–≤–æ—Å—Ç–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è -->
            <div class="news-feed">
                <h3>üîÑ –ü–û–°–õ–ï–î–ù–ò–ï –û–ë–ù–û–í–õ–ï–ù–ò–Ø</h3>
                <div class="news-item">
                    <span class="news-badge">NEW</span>
                    –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ PlayStation –∏ Xbox
                </div>
                <div class="news-item">
                    <span class="news-badge">FIX</span>
                    –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è —è–∑—ã–∫–∞ –ü–æ–Ω—Å—É–∫—ç
                </div>
            </div>
        </main>

        <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <aside class="control-panel">
            <h3>üéÆ –£–ü–†–ê–í–õ–ï–ù–ò–ï</h3>
            <div class="control-scheme" id="control-scheme">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã -->
            </div>
            
            <!-- –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ -->
            <div class="quick-tips">
                <p><strong>–°–æ–≤–µ—Ç:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–ø—É—Å–∫ —Ö–æ–¥–∞ –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –∞—Ç–∞–∫</p>
                <p><strong>–°–µ–∫—Ä–µ—Ç:</strong> –í–≤–µ–¥–∏—Ç–µ COSMICFLOPPA –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏</p>
            </div>
        </aside>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="game-footer">
            <div class="footer-left">
                <div class="version">v2.0.1</div>
                <div class="build-info" id="build-info"></div>
            </div>
            
            <div class="footer-center">
                <div class="stats">
                    <span>üë• –ò–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω: <span id="online-count">0</span></span>
                    <span>üéÆ –°–µ—Å—Å–∏–π —Å–µ–≥–æ–¥–Ω—è: <span id="sessions-count">0</span></span>
                </div>
            </div>
            
            <div class="footer-right">
                <a href="https://github.com/sealbattle" target="_blank" class="social-link">GitHub</a>
                <a href="#" id="report-bug" class="social-link">–°–æ–æ–±—â–∏—Ç—å –æ –±–∞–≥–µ</a>
                <a href="#" id="toggle-debug" class="social-link">Debug Mode</a>
            </div>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="modal-overlay" class="modal-overlay"></div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <h2>‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò</h2>
            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ —è–¥—Ä–∞ -->
    <script src="src/core/Platform.js" defer></script>
    <script src="src/core/Config.js" defer></script>
    <script src="src/core/Logger.js" defer></script>
    <script src="src/core/Performance.js" defer></script>
    
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π —á–µ—Ä–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç -->
    <script type="module">
        // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
        import { PlatformDetector } from './src/core/Platform.js';
        
        const platform = PlatformDetector.detect();
        const config = {
            mobile: {
                graphics: 'medium',
                physicsSteps: 30,
                maxParticles: 500
            },
            desktop: {
                graphics: 'ultra',
                physicsSteps: 60,
                maxParticles: 2000
            },
            console: {
                graphics: 'high',
                physicsSteps: 60,
                maxParticles: 1000
            }
        };
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
        window.GAME_CONFIG = config[platform];
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫
        import('./src/core/GameEngine.js').then(({ GameEngine }) => {
            window.gameEngine = new GameEngine({
                platform: platform,
                container: document.getElementById('game-container'),
                loadingScreen: document.getElementById('loading-screen')
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            gameEngine.init().then(() => {
                console.log('–ò–≥—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:', platform);
            });
        });
    </script>
    
    <!-- Service Worker –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞ -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js', {
                scope: './'
            }).then(() => {
                console.log('Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω');
            });
        }
    </script>
    
    <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXX-Y"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-XXXXX-Y');
    </script>
</body>
</html>